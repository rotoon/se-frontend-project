(()=>{"use strict";const t="http://localhost:3000";class e{constructor(e=t){this.baseURL=e}async request(t,e={}){const a=`${this.baseURL}${t}`,n={headers:{"Content-Type":"application/json",...e.headers},...e};try{console.log(`üîÑ API Request: ${n.method||"GET"} ${a}`);const t=await fetch(a,n),e=await t.json();if(!t.ok)throw new Error(e.message||`HTTP error! status: ${t.status}`);return console.log(`‚úÖ API Response: ${a}`,e),e}catch(t){throw console.error(`‚ùå API Error: ${a}`,t),t}}async get(t){return this.request(t,{method:"GET"})}async post(t,e){return this.request(t,{method:"POST",body:JSON.stringify(e)})}}const a=new e;window.ApiClient=e,window.API_BASE_URL=t;class n{static currentLanguage="th";static supportedLanguages=["th","en","zh","ja"];static getCurrentLanguage(){return this.currentLanguage||localStorage.getItem("language")||"th"}static setLanguage(t){return!!this.supportedLanguages.includes(t)&&(this.currentLanguage=t,localStorage.setItem("language",t),window.dispatchEvent(new CustomEvent("languageChange",{detail:{language:t}})),!0)}static translate(t,e=null){return t?"string"==typeof t?t:t[e||this.getCurrentLanguage()]||t.th||t.en||"":""}static init(){const t=localStorage.getItem("language");t&&this.supportedLanguages.includes(t)&&(this.currentLanguage=t)}}n.init();class s{static showLoading(t){const e=document.getElementById(t);e&&(e.innerHTML='\n                <div class="text-center py-5">\n                    <div class="spinner-border text-primary" role="status">\n                        <span class="visually-hidden">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...</span>\n                    </div>\n                    <div class="mt-2 text-muted">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...</div>\n                </div>\n            ')}static showEmpty(t,e="‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•"){const a=document.getElementById(t);a&&(a.innerHTML=`\n                <div class="text-center py-5 text-muted">\n                    <i class="fas fa-inbox fa-3x mb-3"></i>\n                    <p>${e}</p>\n                </div>\n            `)}static showError(t,e="‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î"){const a=document.getElementById(t);a&&(a.innerHTML=`\n                <div class="text-center py-5 text-danger">\n                    <i class="fas fa-exclamation-triangle fa-3x mb-3"></i>\n                    <p>${e}</p>\n                </div>\n            `)}static truncateText(t,e=100){return t?t.length<=e?t:t.substring(0,e)+"...":""}static generateStars(t){const e=Math.floor(t),a=t%1>=.5,n=5-e-(a?1:0);let s="";for(let t=0;t<e;t++)s+='<i class="fas fa-star text-warning"></i>';a&&(s+='<i class="fas fa-star-half-alt text-warning"></i>');for(let t=0;t<n;t++)s+='<i class="far fa-star text-muted"></i>';return s}static getImageUrl(t){return t?t.startsWith("http")?t:`http://localhost:3000/uploads/${t}`:"https://via.placeholder.com/400x250?text=No+Image"}static formatDate(t){return new Date(t).toLocaleDateString("th-TH",{year:"numeric",month:"long",day:"numeric"})}static formatTime(t){return t?t.substring(0,5):""}static showToast(t,e="success"){document.querySelectorAll(".toast-notification").forEach(t=>t.remove());const a=document.createElement("div");a.className=`toast-notification alert alert-${e} position-fixed`,a.style.cssText="top: 20px; right: 20px; z-index: 10000; min-width: 300px;",a.innerHTML=`\n            <div class="d-flex align-items-center">\n                <i class="fas ${this.getToastIcon(e)} me-2"></i>\n                <span>${t}</span>\n                <button type="button" class="btn-close ms-auto" onclick="this.parentElement.parentElement.remove()"></button>\n            </div>\n        `,document.body.appendChild(a),setTimeout(()=>{a.parentElement&&a.remove()},5e3)}static getToastIcon(t){const e={success:"fa-check-circle",error:"fa-exclamation-circle",warning:"fa-exclamation-triangle",info:"fa-info-circle"};return e[t]||e.info}static debounce(t,e){let a;return function(...n){clearTimeout(a),a=setTimeout(()=>{clearTimeout(a),t(...n)},e)}}static getUrlParams(){const t=new URLSearchParams(window.location.search),e={};for(const[a,n]of t)e[a]=n;return e}static updateUrl(t,e=!1){const a=new URL(window.location);Object.keys(t).forEach(e=>{null!==t[e]&&void 0!==t[e]?a.searchParams.set(e,t[e]):a.searchParams.delete(e)}),e?window.history.replaceState({},"",a):window.history.pushState({},"",a)}}class r{static async getPlaces(t={}){try{const e=new URLSearchParams(t).toString(),n="/api/public/places"+(e?`?${e}`:"");return await a.request(n)}catch(t){throw console.error("Error getting places:",t),t}}static async getPlace(t){try{return await a.request(`/api/public/places/${t}`)}catch(t){throw console.error("Error getting place:",t),t}}static async getFeaturedPlaces(t=6){try{return await this.getPlaces({featured:!0,limit:t,status:"published"})}catch(t){throw console.error("Error getting featured places:",t),t}}static async searchPlaces(t,e={}){try{return await this.getPlaces({search:t,...e})}catch(t){throw console.error("Error searching places:",t),t}}static async getPlacesByCategory(t,e={}){try{return await this.getPlaces({category:t,...e})}catch(t){throw console.error("Error getting places by category:",t),t}}}class o{static async getCategories(){try{return await a.request("/api/public/categories")}catch(t){throw console.error("Error getting categories:",t),t}}static async getCategory(t){try{return await a.request(`/api/public/categories/${t}`)}catch(t){throw console.error("Error getting category:",t),t}}static async getCategoryBySlug(t){try{const e=await this.getCategories();return e.success?{success:!0,data:e.data.find(e=>e.slug===t||e.id===t)||null}:e}catch(t){throw console.error("Error getting category by slug:",t),t}}}async function c(){try{await Promise.all([i(),l(),d()])}catch(t){console.error("Error loading homepage data:",t)}}async function i(){const t=document.getElementById("featuredPlacesContainer");s.showLoading("featuredPlacesContainer");try{const e=await r.getFeaturedPlaces(6);e.success&&e.data.length>0?t.innerHTML=e.data.map(t=>function(t){n.getCurrentLanguage();const e=n.translate(t.name),a=s.truncateText(n.translate(t.description),120),r=t.images&&t.images.length>0?s.getImageUrl(t.images[0]):"https://via.placeholder.com/400x250?text=No+Image",o=t.rating||0,c=t.priceRange||"‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏";return`\n        <div class="col-lg-4 col-md-6">\n            <div class="attraction-card place-card" onclick="goToPlaceDetail('${t.id}')">\n                <div class="card-image">\n                    <img src="${r}" alt="${e}" class="card-img-top" loading="lazy"\n                         onerror="this.src='https://via.placeholder.com/400x250?text=No+Image'">\n                    ${t.featured?'<div class="card-overlay"><span class="badge bg-warning">‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥</span></div>':""}\n                </div>\n                <div class="card-content">\n                    <h4>${e}</h4>\n                    <p>${a}</p>\n                    <div class="card-features">\n                        <span class="place-rating">\n                            <span class="rating-stars">${s.generateStars(o)}</span>\n                            <span class="ms-1">${o.toFixed(1)}</span>\n                        </span>\n                        <span>${c}</span>\n                    </div>\n                </div>\n            </div>\n        </div>\n    `}(t)).join(""):s.showEmpty("featuredPlacesContainer","‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÉ‡∏ô‡∏Ç‡∏ì‡∏∞‡∏ô‡∏µ‡πâ")}catch(t){console.error("Error loading featured places:",t),s.showError("featuredPlacesContainer","‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÇ‡∏´‡∏•‡∏î‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÑ‡∏î‡πâ")}}async function l(){const t=document.getElementById("categoriesContainer"),e=document.getElementById("footerCategories");s.showLoading("categoriesContainer");try{const a=await o.getCategories();a.success&&a.data.length>0?(t.innerHTML=a.data.map(t=>function(t){const e=n.translate(t.name),a=n.translate(t.description),s=t.icon||"fas fa-map-marker-alt",r=t.color||"var(--primary-navy)",o=t.placesCount||0;return`\n        <div class="col-lg-3 col-md-6">\n            <div class="tip-card" onclick="goToCategory('${t.slug||t.id}')" \n                 style="cursor: pointer; border-left: 4px solid ${r};">\n                <div class="tip-icon" style="background: ${r};">\n                    <i class="${s}"></i>\n                </div>\n                <div class="tip-content">\n                    <h5>${e}</h5>\n                    <p>${a}</p>\n                    <small class="text-muted">${o} ‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà</small>\n                </div>\n            </div>\n        </div>\n    `}(t)).join(""),e&&(e.innerHTML=a.data.slice(0,5).map(t=>`<li><a href="places/?category=${t.id}">${n.translate(t.name)}</a></li>`).join(""))):s.showEmpty("categoriesContainer","‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà‡πÉ‡∏ô‡∏Ç‡∏ì‡∏∞‡∏ô‡∏µ‡πâ")}catch(t){console.error("Error loading categories:",t),s.showError("categoriesContainer","‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÇ‡∏´‡∏•‡∏î‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà‡πÑ‡∏î‡πâ")}}async function d(){const t=document.getElementById("statsContainer");try{const[e,a]=await Promise.all([r.getPlaces({limit:1e3}),o.getCategories()]),n=[{icon:"fas fa-map-marked-alt",number:e.success?e.pagination?.total||e.data.length:"100+",label:"‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏ó‡πà‡∏≠‡∏á‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏ß"},{icon:"fas fa-layer-group",number:a.success?a.data.length:"10+",label:"‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà"},{icon:"fas fa-temple",number:"300+",label:"‡∏ß‡∏±‡∏î‡πÇ‡∏ö‡∏£‡∏≤‡∏ì"},{icon:"fas fa-mountain",number:"1,676m",label:"‡∏¢‡∏≠‡∏î‡∏î‡∏≠‡∏¢‡∏≠‡∏¥‡∏ô‡∏ó‡∏ô‡∏ô‡∏ó‡πå"}];t.innerHTML=n.map(t=>`\n            <div class="col-md-3 col-6 mb-4">\n                <div class="stat-item">\n                    <i class="${t.icon} fa-3x mb-3"></i>\n                    <h3 class="stat-number">${t.number}</h3>\n                    <p class="stat-label">${t.label}</p>\n                </div>\n            </div>\n        `).join("")}catch(e){console.error("Error loading stats:",e),t.innerHTML='\n            <div class="col-md-3 col-6 mb-4">\n                <div class="stat-item">\n                    <i class="fas fa-map-marked-alt fa-3x mb-3"></i>\n                    <h3 class="stat-number">100+</h3>\n                    <p class="stat-label">‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏ó‡πà‡∏≠‡∏á‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏ß</p>\n                </div>\n            </div>\n            <div class="col-md-3 col-6 mb-4">\n                <div class="stat-item">\n                    <i class="fas fa-layer-group fa-3x mb-3"></i>\n                    <h3 class="stat-number">10+</h3>\n                    <p class="stat-label">‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà</p>\n                </div>\n            </div>\n            <div class="col-md-3 col-6 mb-4">\n                <div class="stat-item">\n                    <i class="fas fa-temple fa-3x mb-3"></i>\n                    <h3 class="stat-number">300+</h3>\n                    <p class="stat-label">‡∏ß‡∏±‡∏î‡πÇ‡∏ö‡∏£‡∏≤‡∏ì</p>\n                </div>\n            </div>\n            <div class="col-md-3 col-6 mb-4">\n                <div class="stat-item">\n                    <i class="fas fa-mountain fa-3x mb-3"></i>\n                    <h3 class="stat-number">1,676m</h3>\n                    <p class="stat-label">‡∏¢‡∏≠‡∏î‡∏î‡∏≠‡∏¢‡∏≠‡∏¥‡∏ô‡∏ó‡∏ô‡∏ô‡∏ó‡πå</p>\n                </div>\n            </div>\n        '}}document.addEventListener("DOMContentLoaded",function(){console.log("üöÄ Chiang Mai Tourism Frontend loaded with Webpack"),function(){const t=document.querySelectorAll(".lang-btn"),e=n.getCurrentLanguage();t.forEach(a=>{a.classList.toggle("active",a.dataset.lang===e),a.addEventListener("click",()=>{const e=a.dataset.lang;t.forEach(t=>t.classList.remove("active")),a.classList.add("active"),n.setLanguage(e),c()})}),window.addEventListener("languageChange",t=>{!function(t){const e={th:{navHome:"‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Ñ",navAttractions:"‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏ó‡πà‡∏≠‡∏á‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏ß",navCategories:"‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà",navViewAll:"‡∏î‡∏π‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î",heroTitle:'‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö‡∏™‡∏π‡πà <span class="text-gradient">‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡πÉ‡∏´‡∏°‡πà</span>',heroSubtitle:"‡∏î‡∏≠‡∏Å‡πÑ‡∏°‡πâ‡πÅ‡∏´‡πà‡∏á‡∏†‡∏≤‡∏Ñ‡πÄ‡∏´‡∏ô‡∏∑‡∏≠ ‚Ä¢ ‡∏î‡∏¥‡∏ô‡πÅ‡∏î‡∏ô‡πÅ‡∏´‡πà‡∏á‡∏ß‡∏±‡∏î‡πÇ‡∏ö‡∏£‡∏≤‡∏ì ‚Ä¢ ‡∏™‡∏ß‡∏£‡∏£‡∏Ñ‡πå‡∏ó‡∏≤‡∏á‡∏ß‡∏±‡∏í‡∏ô‡∏ò‡∏£‡∏£‡∏°",heroDescription:"‡∏Ñ‡πâ‡∏ô‡∏û‡∏ö‡πÄ‡∏™‡∏ô‡πà‡∏´‡πå‡∏≠‡∏±‡∏ô‡∏ô‡πà‡∏≤‡∏´‡∏•‡∏á‡πÉ‡∏´‡∏•‡∏Ç‡∏≠‡∏á‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡∏´‡∏•‡∏ß‡∏á‡∏ó‡∏≤‡∏á‡∏ß‡∏±‡∏í‡∏ô‡∏ò‡∏£‡∏£‡∏°‡∏†‡∏≤‡∏Ñ‡πÄ‡∏´‡∏ô‡∏∑‡∏≠‡∏Ç‡∏≠‡∏á‡πÑ‡∏ó‡∏¢ ‡∏ó‡∏µ‡πà‡∏ã‡∏∂‡πà‡∏á‡∏õ‡∏£‡∏∞‡πÄ‡∏û‡∏ì‡∏µ‡πÇ‡∏ö‡∏£‡∏≤‡∏ì‡∏ú‡∏™‡∏≤‡∏ô‡∏Å‡∏±‡∏ö‡πÄ‡∏™‡∏ô‡πà‡∏´‡πå‡∏™‡∏°‡∏±‡∏¢‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏•‡∏á‡∏ï‡∏±‡∏ß",btnExplore:'<i class="fas fa-compass me-2"></i>‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏™‡∏≥‡∏£‡∏ß‡∏à',btnPlan:'<i class="fas fa-map me-2"></i>‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á'},en:{navHome:"Home",navAttractions:"Attractions",navCategories:"Categories",navViewAll:"View All",heroTitle:'Welcome to <span class="text-gradient">Chiang Mai</span>',heroSubtitle:"Rose of the North ‚Ä¢ Land of Ancient Temples ‚Ä¢ Cultural Paradise",heroDescription:"Discover the enchanting beauty of Northern Thailand's cultural capital, where ancient traditions meet modern charm in perfect harmony.",btnExplore:'<i class="fas fa-compass me-2"></i>Explore Now',btnPlan:'<i class="fas fa-map me-2"></i>Plan Your Trip'}}[t];if(!e)return;document.querySelector('a[href="#home"]').textContent=e.navHome,document.querySelector('a[href="#attractions"]').textContent=e.navAttractions,document.querySelector('a[href="#categories"]').textContent=e.navCategories,document.querySelector('a[href="places/"]').textContent=e.navViewAll,document.querySelector(".hero-title").innerHTML=e.heroTitle,document.querySelector(".hero-subtitle").textContent=e.heroSubtitle,document.querySelector(".hero-description").textContent=e.heroDescription;const a=document.querySelector('a[href="#attractions"].btn-primary'),n=document.querySelector('a[href="places/"].btn-outline-light');a&&(a.innerHTML=e.btnExplore),n&&(n.innerHTML=e.btnPlan)}(t.detail.language)})}(),window.addEventListener("scroll",function(){const t=document.getElementById("mainNavbar");window.scrollY>100?t.classList.add("navbar-scrolled"):t.classList.remove("navbar-scrolled")}),document.querySelectorAll('a[href^="#"]').forEach(t=>{t.addEventListener("click",function(t){t.preventDefault();const e=document.querySelector(this.getAttribute("href"));e&&e.scrollIntoView({behavior:"smooth",block:"start"})})}),c()});const u=new IntersectionObserver(t=>{t.forEach(t=>{t.isIntersecting&&(t.target.style.opacity="1",t.target.style.transform="translateY(0)")})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});window.addEventListener("load",()=>{document.querySelectorAll(".attraction-card, .tip-card, .stat-item").forEach(t=>{t.style.opacity="0",t.style.transform="translateY(30px)",t.style.transition="all 0.6s ease",u.observe(t)})})})();
//# sourceMappingURL=main.26c07500874415659298.js.map